{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}{{ title }}{% endblock %}
{% block keywords %}{{ keywords }}{% endblock %}
{% block description %}{{ description }}{% endblock %}
{% block style %}
    <link rel="stylesheet" href="{% static 'css/article.css' %}">
{% endblock %}

{% block section %}
    <section class="container col s8 m8 l8  article-centent">
        <article>
            <header>
                <h1>{{ article.title }}</h1>

                <div class="article-meta">
                    <i class="fa fa-calendar" aria-hidden="true"> {{ article.created_time }}</i>
                    <i class="fa fa-folder" aria-hidden="true"> {{ article.categories }}</i>
                    <i class="fa fa-tag" aria-hidden="true"> {{ tag }}</i>
                </div>

            </header>
            <div class="article_body">
                <div id="content_body">
                    <textarea>{{ article.body }}</textarea>
                </div>

            </div>
            <div class="article-copyright">
                <p>当前文章非永久URL：{{ url }}</p>
                <p>创建时间：{{ article.created_time }}</p>
                <p>更新时间：{{ article.last_modified_time }}</p>
            </div>
        </article>
        <footer class="article-comment">
            <div id="disqus_thread"></div>
            <a href="http://foo.com/bar.html#disqus_thread"></a>
        </footer>
    </section>
{% endblock %}
{% block javascript %}
    <script src="//cdn.bootcss.com/marked/0.3.6/marked.min.js"></script>
    <link rel="stylesheet" href="/static/lib/editor.md/editormd.css">
    <script src="/static/lib/editor.md/editormd.js"></script>
    <script src="/static/lib/editor.md/lib/prettify.min.js"></script>
    <script src="/static/lib/editor.md/lib/raphael.min.js"></script>
    <script src="/static/lib/editor.md/lib/underscore.min.js"></script>
    <script src="/static/lib/editor.md/lib/sequence-diagram.min.js"></script>
    <script src="/static/lib/editor.md/lib/flowchart.min.js"></script>
    <script src="/static/lib/editor.md/lib/jquery.flowchart.min.js"></script>
    <script id="dsq-count-scr" src="//blog-ansheng-me.disqus.com/count.js" async></script>
    <noscript>
        Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
    <script>
        $(".button-collapse").sideNav();


        var editor = editormd.markdownToHTML('content_body', {
            htmlDecode: "style,script,iframe",
            emoji: true,
            taskList: true,
            tex: true,  // 默认不解析
            flowChart: true,  // 默认不解析
            sequenceDiagram: true  // 默认不解析
        });


        var d = document, s = d.createElement('script');
        s.src = '//blog-ansheng-me.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    </script>

{% endblock %}